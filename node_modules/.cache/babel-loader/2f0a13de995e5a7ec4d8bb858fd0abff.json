{"remainingRequest":"C:\\Users\\茹家豪\\Desktop\\20210416_rujh_vue\\20210416_rujh_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\茹家豪\\Desktop\\20210416_rujh_vue\\20210416_rujh_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\茹家豪\\Desktop\\20210416_rujh_vue\\20210416_rujh_vue\\src\\view\\login\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\茹家豪\\Desktop\\20210416_rujh_vue\\20210416_rujh_vue\\src\\view\\login\\login.vue","mtime":1567648062360},{"path":"C:\\Users\\茹家豪\\Desktop\\20210416_rujh_vue\\20210416_rujh_vue\\.babelrc","mtime":1567648062203},{"path":"C:\\Users\\茹家豪\\Desktop\\20210416_rujh_vue\\20210416_rujh_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618890453389},{"path":"C:\\Users\\茹家豪\\Desktop\\20210416_rujh_vue\\20210416_rujh_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\茹家豪\\Desktop\\20210416_rujh_vue\\20210416_rujh_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _objectSpread from \"C:\\\\Users\\\\\\u8339\\u5BB6\\u8C6A\\\\Desktop\\\\20210416_rujh_vue\\\\20210416_rujh_vue\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport LoginForm from '_c/login-form';\nimport { mapActions } from 'vuex';\nimport { regist, getAllClass } from '@/api/data';\nexport default {\n  data: function data() {\n    return {\n      saveItem: false,\n      //保存操作框\n      saveItemStatu: false,\n      //保存点击状态\n      itemTitle: '注册',\n      //保存操作框title\n      // identity: '学生',\n      formData: {\n        identity: 1\n      },\n      cityList: []\n    };\n  },\n  components: {\n    LoginForm: LoginForm\n  },\n  methods: _objectSpread({}, mapActions(['handleLogin', 'getUserInfo']), {\n    handleSubmit: function handleSubmit(_ref) {\n      var _this = this;\n\n      var userName = _ref.userName,\n          password = _ref.password;\n      this.handleLogin({\n        userName: userName,\n        password: password\n      }).then(function (res) {\n        _this.getUserInfo().then(function (res) {\n          _this.$router.push({\n            name: _this.$config.homeName\n          });\n        });\n      });\n    },\n    // 关闭保存项目模态框\n    closeSaveItem: function closeSaveItem() {\n      this.formData = {};\n      this.saveItem = false;\n    },\n    saveItemOk: function saveItemOk() {\n      var _this2 = this;\n\n      var that = this;\n      var formData = this.formData;\n      console.log(JSON.stringify(formData));\n\n      if (!formData.name) {\n        this.$Message.warning({\n          content: '请填写您的姓名！'\n        });\n        return;\n      } else if (!/[\\u4e00-\\u9fa5_a-zA-Z]+$/.test(formData.name)) {\n        this.$Message.warning({\n          content: '请填写正确的姓名'\n        });\n        return;\n      }\n\n      ;\n\n      if (!formData.phone) {\n        this.$Message.warning({\n          content: '请填写您的手机号'\n        });\n        return;\n      } else if (!/^1(3|4|5|6|7|8)\\d{9}$/.test(formData.phone)) {\n        this.$Message.warning({\n          content: '请填写正确的手机号'\n        });\n        return;\n      }\n\n      ;\n\n      if (!formData.password) {\n        this.$Message.warning({\n          content: '请填写您的密码！'\n        });\n        return;\n      } else if (!/^[\\w_-]{5,11}$/.test(formData.password)) {\n        this.$Message.warning({\n          content: '请填写5-11密码'\n        });\n        return;\n      }\n\n      ;\n\n      if (!formData.confirmPwd) {\n        this.$Message.warning({\n          content: '请确认您的密码！'\n        });\n        return;\n      } else if (formData.confirmPwd !== formData.password) {\n        this.$Message.warning({\n          content: '两次密码请保持一致'\n        });\n        return;\n      }\n\n      ; //console.log(JSON.stringify(this.identity))\n\n      regist(this.formData).then(function (res) {\n        console.log(JSON.stringify(res));\n\n        if (res.data.result && res.data.result.error) {\n          _this2.$Message.warning({\n            content: res.data.result.error\n          });\n\n          return;\n        } else if (res.data.success) {\n          _this2.$Message.success({\n            content: '注册用户成功'\n          });\n\n          that.saveItem = false;\n          that.pageInit();\n        } else if (res.data.errorMsg) {\n          _this2.$Message.warning({\n            content: res.data.errorMsg\n          });\n        }\n\n        that.saveItemStatu = false;\n      });\n    }\n  }),\n  mounted: function mounted() {\n    var _this3 = this;\n\n    // 初始化\n    getAllClass().then(function (res) {\n      //console.log(\"----\"+JSON.stringify(res));\n      if (res.data.success) {\n        _this3.cityList = res.data.result.clasies;\n      } else if (res.data.errorMsg) {\n        _this3.$Message.warning({\n          content: res.data.errorMsg\n        });\n      }\n    });\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<style lang=\"less\">\r\n  @import './login.less';\r\n</style>\r\n\r\n<template>\r\n  <div class=\"login\">\r\n    <div class=\"login-con\">\r\n      <Card icon=\"log-in\" title=\"欢迎登录\" :bordered=\"false\">\r\n        <div class=\"form-con\">\r\n          <login-form @on-success-valid=\"handleSubmit\"></login-form>\r\n          <Button style='margin-bottom: 10px;' @click=\"saveItem = true\" long>注册</Button>\r\n          <p class=\"login-tip\">输入用户名和密码</p>\r\n        </div>\r\n\r\n      </Card>\r\n    </div>\r\n    <Modal\r\n        v-model=\"saveItem\"\r\n        :title=\"itemTitle\"\r\n        @on-cancel='closeSaveItem'>\r\n        <Form ref=\"formData\" :model=\"formData\" :label-width=\"80\">\r\n          <FormItem label=\"姓名\">\r\n            <Input v-model=\"formData.name\" placeholder=\"请填写您的姓名\" :maxlength=\"10\"></Input>\r\n        </FormItem>\r\n          <FormItem label=\"手机号\">\r\n              <Input v-model=\"formData.phone\" placeholder=\"请填写您的手机号码\" :maxlength=\"11\"></Input>\r\n          </FormItem>\r\n           <FormItem label=\"密码\">\r\n              <Input type='password' v-model=\"formData.password\" placeholder=\"请填写您的密码\" :maxlength=\"11\"></Input>\r\n          </FormItem>\r\n          <FormItem label=\"确认密码\">\r\n             <Input type='password' v-model=\"formData.confirmPwd\" placeholder=\"请确认密码\" :maxlength=\"11\"></Input>\r\n          </FormItem>\r\n          <FormItem label=\"注册身份\">\r\n              <RadioGroup v-model=\"formData.identity\">\r\n                  <Radio :label=\"1\" :key=\"1\"><span>学生</span></Radio>\r\n                  <Radio :label=\"0\" :key=\"0\"><span>老师</span></Radio>\r\n              </RadioGroup>\r\n          </FormItem>\r\n          <FormItem label=\"任教课程\" v-if=\"formData.identity==0\">\r\n             <Row>\r\n                <Col span=\"12\" style=\"padding-right:10px\">\r\n                    <Select v-model=\"formData.subjectId\" filterable>\r\n                        <Option v-for=\"item in cityList\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\r\n                    </Select>\r\n                </Col>\r\n            </Row>\r\n          </FormItem>\r\n        </Form>\r\n        <div slot=\"footer\">\r\n            <Button type=\"default\"  @click=\"closeSaveItem\">关闭</Button>\r\n            <Button type=\"primary\" :disabled='saveItemStatu'  @click=\"saveItemOk\">确认</Button>\r\n        </div>\r\n      </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LoginForm from '_c/login-form'\r\nimport { mapActions } from 'vuex'\r\nimport { regist,getAllClass} from '@/api/data'\r\nexport default {\r\n  data () {\r\n    return {\r\n      saveItem:false,     //保存操作框\r\n      saveItemStatu:false,     //保存点击状态\r\n      itemTitle:'注册',   //保存操作框title\r\n      // identity: '学生',\r\n      formData:{\r\n        identity:1\r\n      },\r\n      cityList: []\r\n    }\r\n  },\r\n  components: {\r\n    LoginForm\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'handleLogin',\r\n      'getUserInfo'\r\n    ]),\r\n    handleSubmit ({ userName, password }) {\r\n      this.handleLogin({ userName, password }).then(res => {\r\n        this.getUserInfo().then(res => {\r\n          this.$router.push({\r\n            name: this.$config.homeName\r\n          })\r\n        })\r\n      })\r\n    },\r\n    // 关闭保存项目模态框\r\n    closeSaveItem(){\r\n      this.formData = {};\r\n      this.saveItem = false;\r\n    },\r\n    saveItemOk(){\r\n      var that = this;\r\n      var formData = this.formData;\r\n      console.log(JSON.stringify(formData))\r\n      if(!formData.name){\r\n        this.$Message.warning({\r\n          content:'请填写您的姓名！'\r\n        });\r\n        return;\r\n      }else if (!/[\\u4e00-\\u9fa5_a-zA-Z]+$/.test(formData.name)){\r\n        this.$Message.warning({\r\n          content:'请填写正确的姓名'\r\n        });\r\n        return;\r\n      };\r\n      \r\n      if(!formData.phone){\r\n        this.$Message.warning({\r\n          content:'请填写您的手机号'\r\n        });\r\n        return;\r\n      }else if (!/^1(3|4|5|6|7|8)\\d{9}$/.test(formData.phone)){\r\n        this.$Message.warning({\r\n          content:'请填写正确的手机号'\r\n        });\r\n        return;\r\n      };\r\n\r\n        if(!formData.password){\r\n          this.$Message.warning({\r\n            content:'请填写您的密码！'\r\n          });\r\n          return;\r\n        }else if (!/^[\\w_-]{5,11}$/.test(formData.password)){\r\n          this.$Message.warning({\r\n            content:'请填写5-11密码'\r\n          });\r\n          return;\r\n        };\r\n        if(!formData.confirmPwd){\r\n          this.$Message.warning({\r\n            content:'请确认您的密码！'\r\n          });\r\n          return;\r\n        }else if (formData.confirmPwd !== formData.password){\r\n          this.$Message.warning({\r\n            content:'两次密码请保持一致'\r\n          });\r\n          return;\r\n        };\r\n        //console.log(JSON.stringify(this.identity))\r\n        regist(this.formData).then(res => {\r\n           console.log(JSON.stringify(res))\r\n          if(res.data.result && res.data.result.error){\r\n            this.$Message.warning({\r\n              content:res.data.result.error\r\n            })\r\n            return;\r\n          }else if(res.data.success){\r\n            this.$Message.success({\r\n              content:'注册用户成功'\r\n            });\r\n            that.saveItem = false;\r\n            that.pageInit();\r\n          }else if(res.data.errorMsg){\r\n            this.$Message.warning({\r\n              content:res.data.errorMsg\r\n            })\r\n          }\r\n          that.saveItemStatu = false;\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    // 初始化\r\n    getAllClass().then(res => {\r\n       //console.log(\"----\"+JSON.stringify(res));\r\n      if(res.data.success){\r\n       this.cityList = res.data.result.clasies; \r\n      }else if(res.data.errorMsg){\r\n        this.$Message.warning({\r\n          content:res.data.errorMsg\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src\\view\\login"}]}